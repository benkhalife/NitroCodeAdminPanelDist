import{u as w,a as x,r,o as v,c as g,w as i,b,d as e,e as d,v as u,n as h,f as _,A as T,S as k,g as A}from"./index-_pmXzXED.js";import{M as S,W as y}from"./MiddelScreen-CJINd0ke.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"flex items-center flex-col gap-10 w-lg bg-base-300 p-2 xl:p-6 rounded-xl shadow-sm hover:shadow-md duration-200 shadow-primary"},V={class:"form-control"},L={class:"form-control"},N={__name:"LoginView",setup(M){const c=w(),p=_(),t=x(),a=r(""),n=r(""),m=()=>{c.showToast("Login successful","success",1e3),setTimeout(()=>{h(()=>{p.replace({name:"admin_product_list"})})},800)},f=()=>{T.post("client/login-by-username",{username:a.value,password:n.value}).then(o=>{o.ok&&(o.role!=="admin"?k.fire({title:"You are not authorized to access this area.",icon:"warning"}):o.role=="admin"&&(t.login(o.api_token,o.role),window.location.reload()))})};return v(()=>{t.isAuthenticated&&t.isAdmin&&m()}),(o,s)=>(A(),g(y,{dir:"ltr"},{default:i(()=>[b(S,null,{default:i(()=>[e("div",P,[s[4]||(s[4]=e("div",null,[e("h1",{class:"text-lg xl:text-xl 2xl:text-4xl font-bold"},"Login To Admin Panel")],-1)),e("div",V,[s[2]||(s[2]=e("label",{for:"username"},"Username",-1)),d(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>a.value=l),placeholder:"Username",id:"username",type:"text",class:"input"},null,512),[[u,a.value]])]),e("div",L,[s[3]||(s[3]=e("label",{for:"password"},"Password",-1)),d(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>n.value=l),placeholder:"Password",id:"password",type:"password",class:"input"},null,512),[[u,n.value]])]),e("div",{class:"text-center"},[e("button",{onClick:f,class:"btn btn-primary"},"Login")])])]),_:1})]),_:1}))}};export{N as default};
