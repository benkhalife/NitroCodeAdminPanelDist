import{h as k,d as e,g as d,r as p,x as T,c as g,w as _,k as o,b as s,f as L,e as w,v as y,l as M,t as D,F,A as $}from"./index-mXooB073.js";import{_ as b}from"./TitleBar-C47bnvez.js";import{_ as x}from"./IconButton-BgtjnGVT.js";import{_ as a}from"./AddButton-D7gghkR5.js";import{C as H}from"./CardBlock-BBIX82ik.js";import{r as N}from"./TrashIcon-CTq-JkNG.js";import"./PlusIcon-kFHg-7F-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function B(A,u){return d(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})])}const R={class:"mt-4"},S={class:"grid grid-cols-2 gap-4"},U={class:"fieldset w-full"},j={class:"fieldset"},E={class:"mt-8"},P={class:"mt-8 flex gap-4 flex-wrap justify-center"},Z={class:"mt-8"},q={class:"mt-8 flex flex-col gap-4"},z={class:"flex-1"},tt={__name:"SettingsConfigManageView",setup(A){const u=T(),m=L(),r=p([]),f=p(""),c=p(""),v=p(0),i=l=>{r.value.push(l)},V=async()=>{const l=await $.post("admin/config/save",{name:f.value,type:c.value,components:r.value,content:[]});v.value=l.config.id,l.ok&&m.push({name:"admin_setting_config_edit",params:{id:v.value}})},I=async()=>{const l=await $.post("admin/config/info",{id:u.params.id});l.ok&&(v.value=l.config.id,f.value=l.config.name,c.value=l.config.type,r.value=l.config.components)};return u.name=="admin_setting_config_edit"&&I(),(l,t)=>(d(),g(H,null,{default:_(()=>[o(u).name=="admin_setting_config_new"?(d(),g(b,{key:0,padding:"",title:"ایجاد ساختار کانفیگ جدید"},{default:_(()=>[s(x,{onClick:t[0]||(t[0]=n=>o(m).back()),icon:o(B),title:"بازگشت به لیست"},null,8,["icon"])]),_:1})):(d(),g(b,{key:1,padding:"",title:"ویرایش کانفیگ"},{default:_(()=>[s(x,{onClick:t[1]||(t[1]=n=>o(m).back()),icon:o(B),title:"بازگشت به لیست"},null,8,["icon"])]),_:1})),e("div",R,[e("div",S,[e("fieldset",U,[t[10]||(t[10]=e("legend",{class:"fieldset-legend"},"نام کانفیگ",-1)),w(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>f.value=n),type:"text",class:"input w-full",placeholder:""},null,512),[[y,f.value]])]),e("fieldset",j,[t[11]||(t[11]=e("legend",{class:"fieldset-legend"},"نوع کانفیگ",-1)),w(e("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>c.value=n),type:"text",class:"input w-full",placeholder:""},null,512),[[y,c.value]])])]),e("div",E,[t[13]||(t[13]=e("div",{class:"text-lg font-bold"},"کامپوننت ها:",-1)),e("div",P,[s(a,{onClick:t[4]||(t[4]=n=>i("input")),title:"Input"}),s(a,{onClick:t[5]||(t[5]=n=>i("input_array")),title:"Input"}),s(a,{onClick:t[6]||(t[6]=n=>i("label_and_text")),title:"Label And Text"}),s(a,{onClick:t[7]||(t[7]=n=>i("label_and_text_array")),title:"Label And Text Array"}),s(a,{onClick:t[8]||(t[8]=n=>i("image")),title:"Image"}),s(a,{onClick:t[9]||(t[9]=n=>i("text")),title:"Text"})]),e("div",Z,[t[12]||(t[12]=e("div",null,"کامپوننت های اضافه شده:",-1)),e("div",q,[(d(!0),k(F,null,M(r.value,(n,C)=>(d(),k("div",{class:"p-2 rounded-lg text-center bg-primary flex items-center",key:C},[e("div",z,D(n),1),e("div",null,[s(x,{onClick:G=>r.value.splice(C,1),class:"text-error",icon:o(N),title:""},null,8,["onClick","icon"])])]))),128))])])]),e("div",{class:"text-center mt-12"},[e("button",{onClick:V,class:"btn btn-success"},"ذخیره")])])]),_:1}))}};export{tt as default};
