import{c as m,o as i,r as p,u as h,a as g,b as d,d as b,w as u,e as S,f as e,g as c,v as f,A as $,S as k,h as y}from"./index-XwKLMxXK.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={},U={class:"h-full w-full"};function V(t,a){return i(),m("div",U,[p(t.$slots,"default")])}const A=_(T,[["render",V]]),B={},L={class:"flex w-full h-full justify-center items-center"};function P(t,a){return i(),m("div",L,[p(t.$slots,"default")])}const C=_(B,[["render",P]]),M={class:"flex items-center flex-col gap-10 w-lg bg-base-300 p-2 xl:p-6 rounded-xl shadow-sm hover:shadow-md duration-200 shadow-primary"},N={class:"form-control"},R={class:"form-control"},D={__name:"LoginView",setup(t){const a=h(),w=y(),x=g(),l=d(""),n=d(""),v=()=>{$.post("client/login-by-username",{username:l.value,password:n.value}).then(o=>{o.ok&&(o.role!=="admin"?k.fire({title:"You are not authorized to access this area.",icon:"warning"}):o.role=="admin"&&(a.showToast("Login successful"),console.log("User role is admin. Redirecting to admin panel..."),x.login(o.api_token,o.role),setTimeout(()=>{w.replace({name:"admin_product_list"})},200)))})};return(o,s)=>(i(),b(A,{dir:"ltr"},{default:u(()=>[S(C,null,{default:u(()=>[e("div",M,[s[4]||(s[4]=e("div",null,[e("h1",{class:"text-lg xl:text-xl 2xl:text-4xl font-bold"},"Login To Admin Panel")],-1)),e("div",N,[s[2]||(s[2]=e("label",{for:"username"},"Username",-1)),c(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>l.value=r),placeholder:"Username",id:"username",type:"text",class:"input"},null,512),[[f,l.value]])]),e("div",R,[s[3]||(s[3]=e("label",{for:"password"},"Password",-1)),c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>n.value=r),placeholder:"Password",id:"password",type:"password",class:"input"},null,512),[[f,n.value]])]),e("div",{class:"text-center"},[e("button",{onClick:v,class:"btn btn-primary"},"Login")])])]),_:1})]),_:1}))}};export{D as default};
