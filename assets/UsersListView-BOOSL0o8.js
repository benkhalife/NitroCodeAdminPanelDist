import{_ as v}from"./ComInput-EvNVDF_F.js";import{_}from"./IconButton-D44qoPfz.js";import{_ as f}from"./TitleBar-CzOtgi4b.js";import{h as n,g as i,d as t,t as u,L as g,r as m,b as c,w as x,F as b,l as h,A as w,k as p}from"./index-Do-6hxTn.js";import"./PlusIcon-B65xikgH.js";function $(s,r){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z","clip-rule":"evenodd"})])}function y(s,r){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z","clip-rule":"evenodd"})])}const k={class:"join gap-1"},C=["disabled"],j={class:"join-item btn"},P=["disabled"],B={__name:"Paginate",props:{list:{default:[]}},emits:["next-page","prev-page"],setup(s,{emit:r}){const a=r;return(o,l)=>(i(),n("div",null,[t("div",k,[t("button",{disabled:s.list.prev_page,onClick:l[0]||(l[0]=e=>a("next-page",s.list.next_page)),class:"join-item btn"},"«",8,C),t("button",j,"Page "+u(s.list.current_page),1),t("button",{disabled:s.list.next_page,onClick:l[1]||(l[1]=e=>a("prev-page",s.list.prev_page)),class:"join-item btn"},"»",8,P)])]))}},A={class:"w-full flex items-center gap-2"},L={key:0,class:"text-center mt-4 md:mt-10"},M={key:1,class:"mt-4 md:mt-10 flex flex-col gap-5"},Z={class:"flex items-center gap-4"},E={class:""},N={class:"mt-10 flex justify-center"},U=g({__name:"UsersListView",setup(s){const r=m(""),a=m([]),o=(l=1)=>{w.post("/admin/user/list",{search:r?.value||"",page:l||1}).then(e=>{a.value=e.list}).catch(e=>{console.error("Error fetching users:",e)})};return o(),(l,e)=>(i(),n("div",null,[c(f,{title:"لیست کاربران"},{default:x(()=>[t("div",A,[c(v,{onInput:e[0]||(e[0]=d=>r.value=d.target.value),onEnter:e[1]||(e[1]=d=>o(1)),class:"flex-1","input-class":"input-primary",placeholder:"جستجو ..."}),c(_,{onClick:o,icon:p($),to:"/admin/users/new",title:"جستجو"},null,8,["icon"])])]),_:1}),a.value.length==0?(i(),n("div",L,e[2]||(e[2]=[t("p",{class:"p-10 border border-4 rounded-xl border-dashed border-primary/20 text-primary/50 text-xl font-bold"}," هیچ کاربری یافت نشد.",-1)]))):(i(),n("div",M,[(i(!0),n(b,null,h(a.value.data,(d,V)=>(i(),n("div",{key:d.id,class:"flex items-center justify-between gap-4 p-4 duration-200 bg-base-300/40"},[t("div",Z,[t("div",null,[c(p(y),{class:"size-12 text-accent"})]),t("div",E,u(d.first_name)+" "+u(d.last_name),1)]),e[3]||(e[3]=t("div",{class:""},[t("button",{class:"btn btn-primary"},"مشاهده")],-1))]))),128))])),t("div",N,[c(B,{list:a.value,onNextPage:o,onPrevPage:o},null,8,["list"])])]))}});export{U as default};
