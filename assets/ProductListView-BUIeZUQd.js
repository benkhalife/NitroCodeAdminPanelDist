import{u as b}from"./sidebar-cub6op2U.js";import{_ as h}from"./TitleBar-f_5E0E3G.js";import{_ as w}from"./AddButton-CBCowJXp.js";import{_ as k}from"./ComInput-DT12uh0I.js";import{j as $,h as p,g as u,d as t,k as m,A as _,t as v,b as a,w as x,S as y,r as g,F as B,l as C,f as P,c as V}from"./index-Cpld9nME.js";import{r as L}from"./TrashIcon-DrRZuBR6.js";import{r as S}from"./PencilIcon-BJxbW9MV.js";import"./PlusIcon-C8fm5guN.js";const N={class:"flex items-center gap-4 p-2 rounded-lg shadow-sm shadow-primary/20 bg-base-200"},R=["src"],T={class:"flex-1"},z={class:"text-content-primary/20 text-sm"},A={class:"text-lg font-bold mt-1"},D={class:"flex gap-2 px-2"},E={__name:"ProductItem",props:{product:{default:""}},emits:["deleted"],setup(l,{emit:f}){const s=l,d=f,r=async c=>{(await y.fire({title:"محصول حذف شود؟",icon:"error",confirmButtonText:"بله حذف شود",cancelButtonText:"لغو",showCancelButton:!0})).isConfirmed&&(await _.post("admin/product/remove",{id:c})).ok&&d("deleted",s.product)};return(c,e)=>{const n=$("RouterLink");return u(),p("div",N,[t("div",null,[t("img",{class:"w-16 h-16 rounded-lg",src:m(_).server+s.product.image,alt:""},null,8,R)]),t("div",T,[t("div",z," شناسه : "+v(s.product.id),1),t("div",A,v(s.product.title),1)]),t("div",D,[t("button",{onClick:e[0]||(e[0]=o=>r(l.product.id)),class:"cursor-pointer block hover:bg-red-500/20 text-error duration-200 p-2 rounded-lg border border-error"},[a(m(L),{class:"size-6"})]),a(n,{to:{name:"admin_product_edit",params:{id:l.product.id}},class:"cursor-pointer block hover:bg-white/20 duration-200 p-2 rounded-lg border"},{default:x(()=>[a(m(S),{class:"size-6"})]),_:1},8,["to"])])])}}},F={class:"mt-8 flex flex-col gap-4"},Q={__name:"ProductListView",setup(l){b().setTitle("لیست محصولات");const s=P(),d=g([]),r=g(""),c=()=>{s.push({name:"admin_product_new"})},e=async()=>{console.log(r.value);const n=await _.post("admin/product/list",{search:r.value});n.ok&&(d.value=n.list)};return e(),(n,o)=>(u(),p("div",null,[a(h,{title:"لیست محصولات",class:"items-center"},{default:x(()=>[a(k,{class:"flex-1","input-class":"input-primary",placeholder:"جستجو ...",onEnter:o[0]||(o[0]=i=>e()),modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=i=>r.value=i)},null,8,["modelValue"]),a(w,{onClick:c,title:"افزودن محصول"})]),_:1}),t("div",F,[(u(!0),p(B,null,C(d.value.data,(i,I)=>(u(),V(E,{onDeleted:o[2]||(o[2]=j=>e()),key:i.id,product:i},null,8,["product"]))),128))])]))}};export{Q as default};
