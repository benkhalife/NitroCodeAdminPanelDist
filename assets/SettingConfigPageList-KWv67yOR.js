import{r as l,o as x,h as a,d as t,m as c,k as g,U as f,F as k,l as y,t as v,A as _,g as i}from"./index-DYZIYozw.js";const C={class:"p-6 mx-auto bg-base-200"},w={class:"flex items-center justify-between mb-6"},B={class:"overflow-x-auto rounded-lg shadow"},M={class:"table w-full"},P={class:""},$={class:"flex gap-2"},A=["onClick"],F=["onClick"],L={key:0},N={key:0,class:"text-center py-6"},j={__name:"SettingConfigPageList",setup(S){const o=l([]),r=l(!1),d=l(""),u=l("");l(null),l(null);const b=()=>{r.value=!0,d.value="",u.value="",_.post("/admin/config/list",{filter_type:"page"}).then(s=>{o.value=s.list||[]}).catch(s=>{console.error(s),u.value="âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª Ù†ÙˆÛŒØ³Ù†Ø¯Ú¯Ø§Ù†"}).finally(()=>{r.value=!1})},m=s=>{confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")&&_.post("admin/config/remove",{id:s}).then(e=>{e.ok&&(d.value="âœ… Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯.",o.value=o.value.filter(n=>n.id!==s))}).catch(e=>{console.error(e),u.value="âŒ Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡"})};return x(()=>{b()}),(s,e)=>(i(),a("div",C,[t("div",w,[e[1]||(e[1]=t("h1",{class:"text-2xl font-bold"},"Ù„ÛŒØ³Øª ØµÙØ­Ù‡ Ù‡Ø§ÛŒ Ø¬Ø§Ù†Ø¨ÛŒ",-1)),t("button",{class:"btn btn-outline btn-primary",onClick:e[0]||(e[0]=n=>g(f).push({name:"admin_setting_pages_new"}))}," Ø§ÛŒØ¬Ø§Ø¯ ")]),t("div",B,[t("table",M,[e[3]||(e[3]=t("thead",null,[t("tr",{class:"bg-base-300"},[t("th",null,"#"),t("th",{class:"w-full"},"Ø¹Ù†ÙˆØ§Ù†"),t("th",null,"Ø¹Ù…Ù„ÛŒØ§Øª")])],-1)),t("tbody",null,[(i(!0),a(k,null,y(o.value,(n,p)=>(i(),a("tr",{key:n.id,class:"hover"},[t("td",null,v(p+1),1),t("td",P,v(n.name||"-"),1),t("td",null,[t("div",$,[t("button",{class:"btn btn-xs btn-outline btn-info",onClick:h=>g(f).push({name:"admin_setting_pages_edit",params:{id:n.id}})},"ÙˆÛŒØ±Ø§ÛŒØ´",8,A),t("button",{class:"btn btn-xs btn-outline btn-error",onClick:h=>m(n.id)},"Ø­Ø°Ù",8,F)])])]))),128)),o.value.length===0&&!r.value?(i(),a("tr",L,e[2]||(e[2]=[t("td",{colspan:"7",class:"text-center py-6 text-gray-500"}," Ù‡ÛŒÚ† Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯ ğŸ™ ",-1)]))):c("",!0)])])]),r.value?(i(),a("div",N,e[4]||(e[4]=[t("span",{class:"loading loading-spinner loading-lg"},null,-1)]))):c("",!0)]))}};export{j as default};
